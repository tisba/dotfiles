#!/bin/bash

set -e

echo "=== Homebrew Updates"
brew upgrade
brew cask upgrade

echo "=== Homebrew Cleanup"
brew_cache=$(brew --cache)
# -s is for scrubbing the cache
brew cleanup -s --verbose && rm -rf "${brew_cache:?}"/*

echo "=== brew {,cask} doctor"
brew doctor
brew cask doctor

echo "=== RVM cleanup"
rvm get head
rvm cleanup all

echo "=== Golang cache cleanup"
go clean --modcache --cache

echo "=== yarn cache cleanup"
yarn cache clean
